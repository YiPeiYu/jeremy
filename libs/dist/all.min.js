function CreateHtml(t){var e=this,n={url:"",data:null},o=[{caption:"农资",subNav:[{id:1609},{id:1606}]},{caption:"家居",subNav:[{id:1609},{id:1606}]},{caption:"家具",subNav:[{id:1609},{id:1606}]},{caption:"家装",subNav:[{id:1609},{id:1606}]},{caption:"厨具",subNav:[{id:1609},{id:1606}]}],a=null;if("string"==typeof o)a=JSON.parse(o);else{if("object"!=typeof o)return!1;a=o}a&&"object"==typeof a&&(n.data=a instanceof Array?a:[a]);var c=$(t);new Object;this.dkFor=function(t,o){t=$(t);var a=t.attr("dk-for").split("=>"),c=$.trim(a[0]),i=$.trim(a[a.length-1]),r=(i.split(".")[i.split(".").length-1],o||n[i]);o&&($.each(i.split("."),function(t,e){r=r[e]}),console.log(r)),$.each(r,function(n,o){var a=t.clone(!0).appendTo(t.parent()),i={};i[c]=o,a.data("data",i),$("[dk-for]",t)[0]&&e.dkFor($("[dk-for]",a)[0],i)}),t.remove()},(c.attr("dk-for")||$("[dk-for]",c)[0])&&this.dkFor(c)}function loaded(){myScroll=new IScroll(".wrapper",{mouseWheel:!0,scrollbars:!0})}function loaded(){setTimeout(function(){myScroll=new IScroll(".wrapper",{mouseWheel:!0,useTransition:!0,click:!0,scrollbars:!0}),myScroll.on("scrollEnd",function(){myScroll.y<-260?$("#top").fadeIn(100):$("#top").fadeOut(100),$("#top").on("touchstart",function(){myScroll.scrollTo(0,0,300)})})},200)}function loaded(){myScroll=new IScroll(".wrapper",{mouseWheel:!0,scrollbars:!0})}function loaded(){setTimeout(function(){myScroll=new IScroll("#wrapper",{mouseWheel:!0,click:!0})},200)}var myApp=angular.module("myApp",["commonApp"]);myApp.config(function(t){myApp.register={controller:t.register}}),myApp.controller("mycontroller",["$scope","$http","$compile",function(t,e,n){e.get("login_info.php").success(function(e){e.state?(t.account=e.account,t.img=e.img):$("#name").html('<a href="login.html">请登陆</a>')}),t.resetimg=function(){e.get("form_img.html").success(function(e){n($(".head_img").html(e))(t),$(".head_img").fadeIn(100)})},t.resetname=function(){$(".name").fadeIn(100)},t.re_name=function(){return" "==t.account||void 0==t.account?($.alert("用户名不能为空"),!1):void e.post("modify_acc.php",{account:t.account}).success(function(t){t.state?window.location.href="changeuser.html":$.alert(t.message)})},t.resetpassword=function(){e.get("resetpassword.html").success(function(e){n($(".psw").html(e))(t),$(".psw").fadeIn(100)})}}]),$(function(){$("#scroller>ul>li>a").on("click",function(){var t='<div class="pop_mask"></div>';$(t).appendTo($("body")),$(".pop_mask").on("touchend",function(){$(this).hide(),$(".pop").fadeOut(100)})})});var cloneDom=function(t){var e={baseDom:null,url:null,data:[],cloneSize:0,page:!1,pageContainer:null},n=this;n.newObj=$.extend(e,t);var o=function(t){return!(!n.newObj.data&&!n.newObj.url)&&(!(!n.newObj.baseDom||n.newObj.cloneSize<1)&&(n.newObj.data[0]?n.newObj.data=!n.newObj.data instanceof Array?[n.newObj.data]:n.newObj.data:n.newObj.url&&$.get(n.newObj.url+"?_="+Math.random(),function(e){n.newObj.data="string"==typeof e?JSON.parse(e):e,t&&"function"==typeof t&&t()}),!0))},a=function(t){t=t||1;var e=n.newObj.cloneSize,o=(t-1)*e,a=t*e-1;if(!n.newObj.data[0])return!1;$(n.newObj.baseDom).not(":first-child").remove();for(var c=o;c<=a;c++)if(n.newObj.data[c]){var i=$(n.newObj.baseDom).eq(0).clone().appendTo($(n.newObj.baseDom).parent());$.each($("[dk-bind]",i),function(t,e){$(e).is("img")?$(e).attr("src",n.newObj.data[c][$(e).attr("dk-bind")]):$(e).text(n.newObj.data[c][$(e).attr("dk-bind")])})}$(n.newObj.baseDom).eq(0).remove()},c=function(){$(n.newObj.pageContainer).pagination({dataSource:n.newObj.data,pageSize:n.newObj.cloneSize,callback:function(t,e){n.refresh(e.pageNumber)}}),$(n.newObj.pageContainer).addHook("beforePageOnClick",function(t,e){}),$(n.newObj.pageContainer).addHook("beforeInit",function(t,e){})};this.refresh=function(t){if(!this.newObj.data[0]&&this.newObj.url)o(function(){a(t),n.newObj.page&&c()});else if(this.newObj.data&&!this.newObj.data instanceof Array){var e=o();e&&(a(t),n.newObj.page&&c())}else this.newObj.data&&this.newObj.data instanceof Array&&a(t)},this.refresh(1)};$(function(){var t=$("dk-header");"true"===$(t).attr("replace")?($("<div></div>").load(t.attr("url")+"?_"+Math.random()).insertAfter(t),t.remove()):t.load(t.attr("url")+"?_"+Math.random())});var obj1={name:"1000phone",teacher:10,classes:{h5:11,android:10,dk:1}},obj2={name:"1001year",teacher:101,classes:{h5:111,android:101,ios:99}};$.extend(obj1,obj2);var conApp=angular.module("conApp",["commonApp"]);conApp.controller("concontroller",["$scope","$http",function(t,e){e.get("login_info.php").success(function(n){n.state?(t.account=n.account,t.phone=n.phone,e.get("order.php").success(function(e){t.data=e;for(var n=0,o=0,a=0;a<t.data.length;a++)n+=t.data[a].num*t.data[a].price,o+=t.data[a].num;t.total=n,t.Num=o})):window.location.href="login.html"}),t.submit=function(){e.get("sumitorder.php").success(function(t){console.log(t),window.location.href="orderlist.html"})}}]),$(function(){new Swiper(".swiper-container",{autoplay:2e3,pagination:".swiper-pagination",autoplayDisableOnInteraction:!1,loop:!0})});var detailApp=angular.module("detailApp",["commonApp"]);detailApp.controller("detailcontroller",["$scope","$http",function(t,e){e.get("datalist.php").success(function(e){t.pName=e[0].proName,t.pri=e[0].price}),$("#bottom>a").on("touchend",function(){e.get("login_info.php").success(function(t){t.state?e.get("buy.php").success(function(){window.location.href="shopcar.html"}):window.location.href="login.html"})})}]);var myScroll;document.addEventListener("touchmove",function(t){t.preventDefault()},!1),$(function(){var t={baseDom:".evaluate>.ng-scope",cloneSize:20,url:"libs/data/product.json"};new cloneDom(t);$(".tag").click(function(){$(".detail").hide(),$(".evaluate").show(),$(this).css("background-color","#ffffff"),$(".active").css("background-color","#e85a90")}),$(".active").click(function(){$(".detail").show(),$(".evaluate").hide(),$(".tag").css("background-color","#e85a90"),$(this).css("background-color","#ffffff")})}),$(function(){new Swiper(".swiper-container",{autoplay:2e3,pagination:".swiper-pagination",autoplayDisableOnInteraction:!1,loop:!0})});var indexapp=angular.module("indexapp",[]);indexapp.controller("indexcontroller",["$scope","$http",function(t,e){e.get("libs/data/product.json").success(function(e){t.data=e}),t.closeSearch=function(){$(".search-content").addClass("item-hidden")},t.showSearch=function(){$(".search-content").removeClass("item-hidden"),t.keyword=""}}]);var myScroll;document.addEventListener("touchmove",function(t){t.preventDefault()},!1);var loginAPP=angular.module("loginAPP",["commonApp"]);loginAPP.controller("loginController",["$scope","$http",function(t,e){t.submit=function(){e.post("login.php",{phone:t.phone,password:t.password}).success(function(t){t.state?window.location.href="index.html":$.alert(t.message)})}}]);var mainapp=angular.module("mainapp",["globalapp"]);mainapp.controller("maincontroller",function(t,e){t.state=$.getparams("state")}),$(function(){$(".select>div").on("touchend",function(){$(this).siblings().removeClass("active"),$(this).toggleClass("active"),"col1 active"==$(this)[0].className?($(".select-content").show(),$(".select-content2").hide()):"col2 active"==$(this)[0].className?($(".select-content2").show(),$(".select-content").hide()):($(".select-content").hide(),$(".select-content2").hide())}),$(".select-content").on("touchend","li",function(){var t=$("a",this).attr("id"),e=$("a",this).attr("flag"),n=$(this).add($(".select-content li>a[id = '"+e+"']").closest("li"));$(".select-content li").not(n).removeClass("show"),$(this).siblings().removeClass("active"),$(this).toggleClass("active"),$(".select-content li>a[flag = '"+t+"']").closest("li").addClass("show")})});var listapp=angular.module("listApp",["commonApp"]);listapp.controller("listcontroller",["$scope","$http",function(t,e){e.get("list.php").success(function(e){t.data=e}),$(document).on("click",".goods>a",function(){e.post("pro_id.php",{pro_id:$(this).attr("pro_id")}).success(function(t){window.location.href="detail-page.html"})})}]);var myScroll;document.addEventListener("touchmove",function(t){t.preventDefault()},!1);var registerApp=angular.module("registerApp",["commonApp"]);registerApp.controller("registerController",["$scope","$http",function(t,e){submit=function(){e.post("register.php",{account:t.account,phone:t.phone,password:t.password}).success(function(t){t.state?window.location.href="login.html":$.alert(t.message)})}}]),$(function(){function t(){return this.form.password.value===this.form["confirm-pwd"].value}function e(e,n,o){var a={"confirm-pwd":{check:t,msg:"两次密码输入不一致"}};return n&&(a.account={check:n,msg:"账户已存在!",async:!0}),new Form(e,{errorMsgClass:"error",errorInputClass:"invalid",rule:a,lang:"cn",disableBrowserMsg:!(navigator.language||navigator.userLanguage).match(/cn/i)},o)}!function(){var t=!1;e($("#register_form")[0],t,submit)}()});var cartApp=angular.module("cartApp",["commonApp"]);cartApp.controller("cartcontroller",["$scope","$http",function(t,e){e.get("login_info.php").success(function(n){n.state?e.get("cart.php").success(function(e){t.data=e,0==t.data.length&&$.alert({confirm:function(){},title:"",content:"购物车什么都没有！快去购买点商品吧！"})}):window.location.href="login.html"})}]),$(document).on("touchstart",function(t){function e(){var t=0;$("li .fa-check-square").each(function(e,n){var o=parseInt($(n).closest("li").find(".item-content .pri em ").html()),a=parseInt($(n).closest("li").find(".item-calc .num ").html());t+=o*a}),$("#bottom .pay").html('<a href="confirmorder.html">确认并支付('+t+")</a>")}if($(t.target).is(".item-option>i")&&($(t.target).toggleClass("fa-check-square"),e()),$(t.target).is(".item-calc .minu i")){var n=$(t.target).closest("li").find($(".item-calc .num")).html();n--,n<1&&(n=1),$(t.target).closest("li").find($(".item-calc .num")).html(n),e()}if($(t.target).is(".item-calc .plus i")){var n=$(t.target).closest("li").find($(".item-calc .num")).html();n++,$(t.target).closest("li").find($(".item-calc .num")).html(n),e()}$(t.target).is(".item-content .fa-trash-o")&&(console.log($(t.target).attr("ngID")),$.get(common.baseUrl+"TRASH.php",{id:$(t.target).attr("ngID")}),$(t.target).closest("li").remove(),e()),$(t.target).is("#bottom .change i")&&($(t.target).hasClass("fa-check-square")?$(".fa-square-o").removeClass("fa-check-square"):$(".fa-square-o").addClass("fa-check-square"),e())});var myScroll;window.addEventListener("load",loaded,!1),document.addEventListener("touchmove",function(t){t.preventDefault()},!1);var userapp=angular.module("userapp",["commonApp"]);userapp.controller("usercontroller",["$scope","$http","$compile",function(t,e,n){e.get("login_info.php").success(function(n){n.state?(t.account=n.account,$("#menber").html("普通会员"),t.img=n.img,$("#logout").on("touchend",function(){e.get("out.php").success(function(){window.location.href="login.html"})}),$("#changedatu").on("touchend",function(){window.location.href="changeuser.html"})):($("#name").html('<a href="login.html">请登陆</a>'),$(".user-head>a").on("touchend",function(){window.location.href="login.html"}))})}]),$(function(){var t={baseDom:".layout-body>.product>ul>li",cloneSize:30,url:"libs/data/user.txt"};new cloneDom(t)});